webpackJsonp([3],{NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("IvJb"),a={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=t("C7Lr")({name:"App"},a,!1,function(n){t("gDPW")},null,null).exports,u=t("zO6J"),i=t("9rMa"),c=t("3cXf"),s=t.n(c),p=t("rVsN"),l=t.n(p),f=t("aozt"),m=t.n(f);m.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",m.a.defaults.headers.get["Content-Type"]="application/x-www-form-urlencoded",m.a.defaults.transformRequest=[function(n){var e="";for(var t in n)e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t])+"&";return e}];var d=function(n){var e="";switch(n){case"upload":e=getURL("url")+"/upload/file.aspx?appId=2";break;case"url":e="http://218.22.251.156/gj-app-4/data2.aspx?appId=2",D.state.user.userInfo.sessionID&&(e+="&sessionID="+D.state.user.userInfo.sessionID);break;case"socket":e="ws://ydzl.gujing.net:9091";break;default:alert("类型："+n+"不存在！")}return e},h=function(n){return new l.a(function(e,t){m.a.post(d("url"),n).then(function(n){"-201"==n.data.resulttype?realsoApp.$router.replace("/loginout"):e(n.data)}).catch(function(n){t(n)})})},I={getUrl:d,postData:h,open:function(n){var e={};return n.sqlId?(e.tp="query6",e.json=encodeURIComponent(s()({params:n}))):(n.tp="query1",e=n),h(e)},call:function(n){var e={tp:"call",json:encodeURIComponent(s()({para:n}))};return h(e)}};var g={namespaced:!0,state:{},mutations:{INIT_DATA:function(n){},SET_DATA:function(n,e){}},getters:{},actions:{}},A={namespaced:!0,state:{userInfo:{}},mutations:{INIT_DATA:function(n){var e=localStorage.getItem("_user_userInfo_");try{var t=JSON.parse(e);n.userInfo=t||{}}catch(n){localStorage.removeItem("_user_userInfo_")}},SET_DATA:function(n,e){n.userInfo=e||{},e?localStorage.setItem("_user_userInfo_",s()(e)):localStorage.removeItem("_user_userInfo_")}},getters:{isLogin:function(n){return 2==n.userInfo.status}},actions:{login:function(n,e){var t=n.commit;return function(n){return n.tp="login",I.postData(n)}(e).then(function(n){return t("SET_DATA",n.data),n.data}).then(function(n){console.log("user/login"),console.log(n)})},loginOut:function(n){(0,n.commit)("SET_DATA",null)}}},T={namespaced:!0,state:{},mutations:{INIT_DATA:function(n){},SET_DATA:function(n,e){}},getters:{},actions:{}},_={namespaced:!0,state:{},mutations:{INIT_DATA:function(n){},SET_DATA:function(n,e){}},getters:{},actions:{}};o.a.use(i.a);var v=new i.a.Store({modules:{user:A,app:g,schema:_,permission:T}});v.commit("app/INIT_DATA"),v.commit("user/INIT_DATA"),v.commit("permission/INIT_DATA"),v.commit("schema/INIT_DATA");var D=v,b=[{path:"/login",name:"login",component:function(n){return t.e(1).then(function(){return n(t("jT7l"))}.bind(null,t)).catch(t.oe)}},{path:"/loginout",name:"loginout",beforeEnter:function(n,e,t){D.dispatch("user/loginOut").then(function(){t("/login")})}}],w={path:"/",name:"main",component:function(n){return t.e(0).then(function(){return n(t("uUni"))}.bind(null,t)).catch(t.oe)},redirect:"/main1",children:[{path:"/main1",name:"main1",component:function(n){return t.e(0).then(function(){return n(t("EY4z"))}.bind(null,t)).catch(t.oe)}},{path:"/main2",name:"main2",component:function(n){return t.e(0).then(function(){return n(t("5A94"))}.bind(null,t)).catch(t.oe)},meta:{keepAlive:!1}},{path:"/main3",name:"main3",component:function(n){return t.e(0).then(function(){return n(t("n8qx"))}.bind(null,t)).catch(t.oe)}},{path:"/main4",name:"main4",component:function(n){return t.e(0).then(function(){return n(t("BRKW"))}.bind(null,t)).catch(t.oe)}}]};o.a.use(u.a);var N=[];(N=N.concat(b)).push(w);var S=new u.a({routes:N});S.beforeEach(function(n,e,t){-1!=["login","404","503"].indexOf(n.name)||D.getters["user/isLogin"]?t():t({path:"/login",query:{redirect:n.fullPath}})}),u.a.prototype.goBack=function(){this.isBack=!0,this.go(-1)};var y=S,E=t("NSUH"),k=t.n(E);t("m57n");o.a.use(k.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:y,store:D,components:{App:r},template:"<App/>"})},gDPW:function(n,e){},m57n:function(n,e){}},["NHnr"]);
//# sourceMappingURL=app.4330670039e6f4ef6dd4.js.map